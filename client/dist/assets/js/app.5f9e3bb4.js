(function(t){function e(e){for(var n,i,r=e[0],c=e[1],l=e[2],d=0,u=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(u.length)u.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var r=a[i];0!==s[r]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={app:0},s={app:0},o=[];function r(t){return c.p+"assets/js/"+({}[t]||t)+"."+{"chunk-2d0e62d5":"48be83e7","chunk-c5f3e59a":"812136ae"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-c5f3e59a":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise((function(e,a){for(var n="assets/css/"+({}[t]||t)+"."+{"chunk-2d0e62d5":"31d6cfe0","chunk-c5f3e59a":"3f4cf30c"}[t]+".css",s=c.p+n,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===n||d===s))return e()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){l=u[r],d=l.getAttribute("data-href");if(d===n||d===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete i[t],f.parentNode.removeChild(f),a(o)},f.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){i[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=o);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(t);var u=new Error;l=function(e){d.onerror=d.onload=null,clearTimeout(f);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,a[1](u)}s[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var f=d;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"10eb":function(t,e,a){},"12f6":function(t,e,a){"use strict";a("10eb")},"2a7a":function(t,e,a){},"2d15":function(t,e,a){"use strict";a("8bb0")},"3a3a":function(t,e,a){},"44df":function(t,e,a){"use strict";a("2a7a")},"4fa2":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header",{staticClass:"header-container d-inline-flex align-items-center clearfix"},[a("a",{staticClass:"navbar-brand",attrs:{href:"javascript:void()"}},[a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{src:"http://clbdgs.xyz/static/image/tx.775217c9.jpg",alt:""}})])],1),a("nav",{staticClass:"nav-list navbar-close"},[a("div",{},[a("router-link",{attrs:{to:"/subject"}},[t._v(" 资料")])],1),a("div",{},[a("router-link",{attrs:{to:"/manage"}},[t._v(" 管理")])],1)]),a("button",{staticClass:"navbar-toggle navbar-toggle-open",on:{click:t.handleToggleMenu}},[a("svg",{staticClass:"bi",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"}})])])]),a("main",{staticClass:"container-custom"},[a("router-view")],1)])},s=[],o="logIn",r="logOut",c="checkAuth",l="addUser",d="toggleLoginStatus",u="toggleSideOpen",f={addUser:l,toggleLoginStatus:d,toggleSideOpen:u,logIn:o,logOut:r,checkAuth:c},m=f,h={data:function(){return{}},created:function(){},mounted:function(){console.log("前端：vue\n后端：koa2\n代理服务器：nginx\n目标进大厂，望大佬看到我v:clbdgs")},computed:{getFooter:function(){return this.$store.state.footer}},methods:{handleToggleMenu:function(){var t=!1;t=!this.$store.state.isSideOpen,this.$store.commit(u,t)},getVertifyCode:function(){this.$http.post("http://localhost:3000/sendEmail").then((function(t){console.log(t)}))}}},p=h,v=(a("5c0b"),a("2877")),g=Object(v["a"])(p,i,s,!1,null,null,null),b=g.exports,C=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-page",class:{"sidebar-open":t.sideOpen}},[a("div",{},[a("left-side",{on:{changeSubIndex:t.changeSubIndex}}),a("div",{staticClass:"markdown-body content-wrapper  mt-4 "},[a("div",{domProps:{innerHTML:t._s(t.content)}})])],1)])},_=[],y=a("5530"),j=a("ade3"),x=(a("b0c0"),a("7db0"),a("2f62")),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aside border-end"},[a("ul",[t._l(t.catalogueList,(function(e){return[a("li",{key:e.id,staticClass:"mb-1"},[a("div",{staticClass:"d-inline-flex align-items-center",on:{click:function(a){return t.handleCollapse(e)}}},[a("i",{staticClass:"title",class:{show:!e.isHidden},attrs:{title:e.name}}),a("span",[t._v(t._s(e.name))])]),e.isHidden?t._e():a("ul",[t._l(e.children,(function(e){return[a("li",{key:e.id},[a("span",{staticClass:"sub-title",class:{active:e.id==t.subActive},attrs:{title:e.name},on:{click:function(a){return t.handleActive(e)}}},[t._v(" "+t._s(e.name)+" ")])])]}))],2)])]}))],2)])},k=[],I=(a("159b"),{name:"left-side",data:function(){return{active:1,subActive:0,catalogueList:[]}},created:function(){this.getCatalogueList()},methods:{getCatalogueList:function(){var t=this;this.$http.get(this.INTERFACE.getCatalogueList).then((function(e){if(200==e.data.code&&e.data.data){var a=[];e.data.data.forEach((function(t){if(t.parentId){var e=a.find((function(e){return e.id===t.parentId}));e.children.push(t)}else t.children=[],a.push(t)})),t.catalogueList=a}}))},handleActive:function(t){this.subActive=t.catalogueId,this.$emit("changeSubIndex",t.id)},handleCollapse:function(t){t.isHidden=!t.isHidden}}}),E=I,$=(a("2d15"),Object(v["a"])(E,S,k,!1,null,"592a0638",null)),F=$.exports,A={data:function(){return{files:[],content:"",isSideOpen:!1}},components:Object(j["a"])({},F.name,F),created:function(){this.getFiles()},computed:Object(y["a"])({},Object(x["c"])({sideOpen:function(t){return t.isSideOpen}})),methods:{getFiles:function(){var t=this;this.$http.post(this.INTERFACE.getFiles,{type:0}).then((function(e){200==e.data.code&&(t.subActive=e.data.data[0].catalogueId,t.files=e.data.data,t.content=e.data.data[0].render)}))},changeSubIndex:function(t){var e=this.files.find((function(e){return e.catalogueId===t}));this.content=e.render}}},L=A,O=(a("6cd0"),Object(v["a"])(L,w,_,!1,null,"cf802992",null)),N=O.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subject-contanier"},[a("main",[a("div",{staticClass:"d-flex justify-content-center search mb-4"},[a("div",{staticClass:"search-wrapper"},[a("input",{staticClass:"ms-0",attrs:{autocomplete:"off",autofocus:"",placeholder:"Search"}}),a("i",{staticClass:"icon-search"},[a("svg",{staticClass:"bi bi-search",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"resource-nav col-sm-2"},[a("ul",[t._l(t.subjects,(function(e,n){return[a("li",{key:n,class:{active:e.id==t.subjectIndex},on:{click:function(a){return t.handleSelectSubject(e.id)}}},[t._v(" "+t._s(e.name)+" ")])]}))],2)]),a("div",{staticClass:"col-8 row"},[t._l(t.filterFileData,(function(e,n){return["1"==e.status?a("div",{key:e.index,staticClass:"mb-4 col-sm-4"},[a("div",{ref:"cardRef",refInFor:!0,staticClass:"card text-start w-100 h-100",on:{mouseenter:function(e){return t.handleCardShadow(n)},mouseleave:function(e){return t.handleCardShadow(n,!1)}}},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title fw-bold"},[t._v(t._s(e.name))]),a("p",{staticClass:"card-text"},[t._v(t._s(e.des))]),a("a",{staticClass:"btn btn-primary btn-sm mt-2",on:{click:function(a){return t.handleToDetail(e)}}},[t._v("详情")])])])]):t._e()]}))],2)])])])},R=[],M=(a("4de4"),{data:function(){return{subjectIndex:0,files:[],subjects:[]}},created:function(){this.getFiles(),this.getSubjects()},computed:{filterFileData:function(){var t=this;return this.files.filter((function(e){return e.subjectId==t.subjectIndex}))}},methods:{handleSelectSubject:function(t){this.subjectIndex=t},getSubjects:function(){var t=this;this.$http.get(this.INTERFACE.getSubject).then((function(e){200==e.data.code&&(t.subjects=e.data.data,t.subjectIndex=e.data.data[0].id,t.$forceUpdate())}))},getFiles:function(){var t=this;this.$http.post(this.INTERFACE.getFiles,{type:1}).then((function(e){t.files=e.data.data}))},handleToDetail:function(t){this.$router.push({name:"fileDetail",params:{file:t}})},handleCardShadow:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.$refs.cardRef[t];e?a.classList.add("shadow"):a.classList.remove("shadow")}}}),D=M,H=(a("44df"),Object(v["a"])(D,T,R,!1,null,"0db2bd84",null)),P=H.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage-page"},[a("div",{staticClass:"nav"},[a("ul",{staticClass:"nav-manage"},[t._l(t.manageMenuList,(function(e){return[a("li",{key:e.id,staticClass:"mb-2",on:{click:function(a){t.active=e.id}}},[t._v(" "+t._s(e.name)+" ")])]}))],2)]),a("div",{staticClass:"main ms-4 mt-4"},[1===t.active?a("div",[a("button",{staticClass:"btn btn-success mb-2",on:{click:t.handleAddCatalogue}},[t._v(" 新增目录 ")]),a("button",{staticClass:"btn btn-success mb-2 ms-2",on:{click:t.handleSubmit}},[t._v(" 提交 ")]),t._l(t.cataList,(function(e){return a("div",{key:e.id},[a("div",{staticClass:"d-inline-flex align-items-center mt-2"},[a("i",{staticClass:"node-arrow",class:{show:e.isHidden},on:{click:function(a){return t.handleCollapse(e)}}}),a("catalogue-List",{attrs:{node:e},on:{updateCatalogue:t.updateCatalogue}})],1),e.children.length>0&&e.isHidden?a("div",{staticClass:"second-node mt-2 ms-4"},[t._l(e.children,(function(e){return[a("catalogue-List",{key:e.id,staticClass:"mt-1",attrs:{node:e},on:{updateCatalogue:t.updateCatalogue}})]}))],2):t._e()])}))],2):t._e(),2==t.active?a("div",[t.isCreated?a("nav",{staticStyle:{"--bs-breadcrumb-divider":"'>'"},attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item",on:{click:function(e){t.isCreated=!1}}},[a("a",{attrs:{href:"javascript:void()"}},[t._v("资料管理")])]),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("编辑")])])]):t._e(),t.isCreated?t._e():a("button",{staticClass:"btn btn-primary btn-sm mb-4",attrs:{type:"button"},on:{click:t.createFile}},[t._v(" 创建 ")]),t.isCreated?a("div",[a("form",{staticClass:"row g-3 w-100",attrs:{id:"fileForm",enctype:"application/x-www-form-urlencoded"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isNextStep,expression:"isNextStep"}]},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"name"}},[t._v("名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"input",id:"formName",name:"name",placeholder:"请输入名称"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),a("div",{staticClass:"row",staticStyle:{position:"relative"}},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"type"}},[t._v("类型")]),a("select",{staticClass:"form-select",attrs:{name:"type"},on:{change:t.handleSelectType}},t._l(t.typeList,(function(e,n){return a("option",{key:n,domProps:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])})),0)]),a("div",{staticClass:"row",staticStyle:{position:"relative"}},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"subject"}},[t._v("科目")]),a("select",{staticClass:"form-select",attrs:{name:"subject"},on:{change:t.handleSelectSub}},t._l(t.subjects,(function(e,n){return a("option",{key:n,domProps:{value:e.name}},[t._v(" "+t._s(e.name)+" ")])})),0)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6",staticStyle:{"padding-left":"0"}},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"subject"}},[t._v("科目新增")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.subjectValue,expression:"subjectValue"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.subjectValue},on:{input:function(e){e.target.composing||(t.subjectValue=e.target.value)}}}),a("div",[a("button",{staticClass:"btn btn-primary btn-sm mt-2",on:{click:t.handleAddSubject}},[t._v(" 新增 ")]),a("button",{staticClass:"btn btn-primary btn-sm mt-2 ms-2",on:{click:t.handleDeleteSubject}},[t._v(" 删减 ")])])]),a("div",{staticClass:"col-6 d-flex"})]),t.isArticle?a("div",{staticClass:"row",staticStyle:{position:"relative"}},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"catalogue"}},[t._v("目录")]),a("select",{staticClass:"form-select",attrs:{name:"catalogue"},on:{change:t.handleSelectcatalogue}},t._l(t.ctlChildOption,(function(e,n){return a("option",{key:n,domProps:{value:e.name}},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e(),t.isArticle?t._e():a("div",{staticClass:"row",staticStyle:{position:"relative"}},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"package"}},[t._v("资源")]),t.form.package&&t.isCreated?a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.package.name,expression:"form.package.name"}],staticClass:"form-control input-file",attrs:{type:"text",title:t.form.package.name,placeholder:"点击上传"},domProps:{value:t.form.package.name},on:{input:function(e){e.target.composing||t.$set(t.form.package,"name",e.target.value)}}}):t._e(),a("input",{ref:"upload",staticClass:"form-control real-input-file",attrs:{type:"file",multiple:"multiple",id:"formPackage",name:"package",accept:".doc,.docx,.xls,.xlsx,.pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"}})]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"des"}},[t._v("简介")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.des,expression:"form.des"}],staticClass:"form-control",attrs:{id:"formTextarea",name:"des",rows:"3"},domProps:{value:t.form.des},on:{input:function(e){e.target.composing||t.$set(t.form,"des",e.target.value)}}})])]),t.isNextStep?t._e():a("div",[a("div",{staticClass:"row mavon-editor"},[a("mavon-editor",{ref:"md",staticStyle:{height:"100%"},attrs:{toolbars:t.editorToolConfig,name:"content",fontSize:"16px",boxShadow:!0},on:{imgAdd:t.handleAddImg},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)]),a("div",{staticClass:"d-flex mt-3"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.handleNext}},[t._v(" "+t._s(t.isNextStep?"下一步":"上一步")+" ")]),t.isNextStep?t._e():a("button",{staticClass:"btn btn-success btn-sm ms-4",attrs:{type:"button"},on:{click:function(e){return t.handleSaveFile("1")}}},[t._v(" 发布 ")]),t.isNextStep?t._e():a("button",{staticClass:"btn btn-success btn-sm ms-4",attrs:{type:"button"},on:{click:function(e){return t.handleUpdateFile("0")}}},[t._v(" 保存 ")])])])]):a("table",{staticClass:"table table-striped"},[t._m(0),a("tbody",t._l(t.files,(function(e,n){return a("tr",{key:n},[a("th",[t._v(t._s(e.name))]),a("th",[t._v(t._s("1"==e.status?"已发布":"草稿"))]),a("th",[t._v(t._s(e.created_time))]),a("th",["0"==e.status?a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.handleUpdateFile("1")}}},[t._v(" 发布 ")]):t._e(),a("button",{staticClass:"btn btn-primary btn-sm ms-2",on:{click:function(a){return t.handleEdit(e)}}},[t._v(" 编辑 ")]),a("button",{staticClass:"btn btn-primary btn-sm ms-2",on:{click:function(a){return t.handleDeleteFile(e)}}},[t._v(" 删除 ")])])])})),0)])]):t._e(),3==t.active?a("div",[a("form",{staticClass:"w-50",attrs:{id:"animationForm"}},[t._m(1),t._m(2),t._m(3),t._m(4),a("div",{staticClass:"row col-6"},[a("button",{staticClass:"btn btn-primary",on:{click:t.createAnimation}},[t._v(" 提交 ")])])])]):t._e()])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("名称")]),a("th",[t._v("状态")]),a("th",[t._v("创建时间")]),a("th",[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"animationName"}},[t._v("动画名")]),a("input",{staticClass:"form-control",attrs:{type:"text",name:"animationName"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"animationDes"}},[t._v("描述")]),a("textarea",{staticClass:"form-control",attrs:{name:"animationDes",rows:"3"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"animationImg"}},[t._v("图片")]),a("input",{staticClass:"form-control",attrs:{type:"file",name:"animationImg",accept:".jpg,.png,.gif,.jpeg,.bmp"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-3"},[a("label",{staticClass:"col-form-label fw-bold",attrs:{for:"animationCode"}},[t._v("代码")]),a("input",{staticClass:"form-control",attrs:{type:"file",name:"animationCode",accept:".html"}})])}],V=a("b85c"),B=(a("4e82"),a("ac1f"),a("1276"),a("b2d8")),q={bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!1,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0},X=q,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.node?a("input",{directives:[{name:"model",rawName:"v-model",value:t.node.name,expression:"node.name"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.node.name},on:{input:function(e){e.target.composing||t.$set(t.node,"name",e.target.value)}}}):t._e(),0===t.node.parentId?a("span",{staticClass:"input-add",on:{click:function(e){return t.handleAddNode(t.node)}}},[a("svg",{staticClass:"bi bi-plus-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}),a("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}})])]):t._e(),t.node.children||t.node.parentId?a("span",{staticClass:"input-delete",on:{click:function(e){return t.handleDeleteNode(t.node)}}},[a("svg",{staticClass:"bi bi-dash-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}),a("path",{attrs:{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"}})])]):t._e()])},K=[],W=(a("a434"),{data:function(){return{}},props:{node:{}},methods:{handleAddNode:function(t){var e=t.children.length+1,a={id:(new Date).getTime(),name:"",parentId:t.id,sort:e};t.children.push(a)},handleDeleteNode:function(t){var e=this;if(t.parentId){var a=this.$parent.cataList.find((function(e){return e.id===t.parentId}));a.children.splice(t.sort-1,1),this.$emit("updateCatalogue")}t.name&&this.$http.post(this.INTERFACE.deleteCatalogue,{id:t.id}).then((function(t){200==t.data.code&&e.$parent.getCatalogueList()}))}}}),G=W,Q=(a("dfa1"),Object(v["a"])(G,J,K,!1,null,"27ed213e",null)),Y=Q.exports,Z={components:{catalogueList:Y,mavonEditor:B["mavonEditor"]},data:function(){return{active:1,manageMenuList:[{id:1,name:"目录列表"},{id:2,name:"资料管理"},{id:3,name:"添加动画"}],cataList:[{id:(new Date).getTime(),name:"",isHidden:1,children:[],parentId:0,sort:1}],ctlChildOption:[],cacheCataList:[],form:{id:"",fileName:"",content:"",subject:{id:0,value:""},type:{value:0},package:{},catalogueId:0},isNextStep:!1,editorToolConfig:{},files:[],img_file:{},subjects:[],typeList:[{name:"文章",value:0},{name:"资料",value:1}],isArticle:!0,subjectValue:"",isCreated:!1,isAnimation:!0}},created:function(){window.localStorage.getItem("user")||this.$router.push({name:"login"})},mounted:function(){this.getFiles(),this.getSubjects(),this.getCatalogueList(),this.editorToolConfig=X},methods:{updateCatalogue:function(){this.$forceUpdate()},getCatalogueList:function(){var t=this;this.$http.get(this.INTERFACE.getCatalogueList).then((function(e){if(200==e.data.code&&e.data.data.length>0){t.cacheCataList=e.data.data,t.ctlChildOption=e.data.data.filter((function(t){return 0!==t.parentId})),t.form.catalogueId=t.ctlChildOption[0].id;var a=[];e.data.data.forEach((function(t){if(t.parentId){var e=a.find((function(e){return e.id===t.parentId}));e.children.push(t)}else t.children=[],a.push(t)})),t.cataList=a}}))},handleSubmit:function(){var t=this,e=[];function a(n){n.forEach((function(n){var i=t.cacheCataList.find((function(t){return t.id===n.id}));i||e.push({id:n.id,name:n.name,isHidden:n.isHidden?n.isHidden:0,parentId:n.parentId,sort:n.sort}),n.children&&n.children.length>0&&a(n.children)}))}a(this.cataList),this.$http.post(this.INTERFACE.catalogueList,e).then((function(t){200==t.data.code&&console.log(t)}))},handleCollapse:function(t){t.isHidden=!t.isHidden},handleAddCatalogue:function(){var t={id:(new Date).getTime(),name:"",children:[],isHidden:0,parentId:0,sort:this.cataList.length+1};this.cataList.push(t)},updateCatalogList:function(){console.log("cataList",this.cataList),this.$forceUpdate()},createAnimation:function(){var t=document.querySelector("#animationForm"),e=new FormData(t);this.$http.post(this.INTERFACE.createAnimation,e).then((function(t){200==t.data.code&&console.log(t)}))},handleSelectSub:function(t){var e=this.subjects.find((function(e){return e.name===t.target.value}));this.form.subject["id"]=e.id},handleSelectType:function(t){if(parseInt(t.target.value))return this.isArticle=!1,void(this.form.type.value=1);this.isArticle=!0,this.form.type.value=0},handleSelectcatalogue:function(t){var e=this.cacheCataList.find((function(e){return e.name===t.target.value}));this.form.catalogueId=e.id},handleChange:function(t){var e=t.target.value.split("\\");this.form.package.name=e[e.length-1],this.$forceUpdate(),console.log(t)},createFile:function(){var t=this;t.isCreated=!0,t.isNextStep=!0;var e=setInterval((function(){t.$refs&&t.$refs.upload&&(t.$refs.upload.addEventListener("change",t.handleChange),clearTimeout(e))}),2e3)},handleAddSubject:function(){var t=this;this.subjectValue&&this.$http.post(this.INTERFACE.addSubject,{id:(new Date).getTime(),name:this.subjectValue}).then((function(e){200==e.data.code&&t.getSubjects()}))},handleDeleteSubject:function(){var t=this;this.$http.post(this.INTERFACE.deleteSubject,{id:this.form.subject["id"]}).then((function(e){200==e.data.code&&t.getSubjects()}))},getSubjects:function(){var t=this;this.$http.get(this.INTERFACE.getSubject).then((function(e){200==e.data.code&&(t.subjects=e.data.data,t.form.subject=t.subjects[0])}))},handleEdit:function(t){this.form=t,this.getMaterial(t.id),this.isCreated=!0,this.isNextStep=!0,this.$nextTick((function(){this.$refs.upload.addEventListener("change",this.handleChange)}))},getFiles:function(){var t=this;this.$http.post(this.INTERFACE.getFiles,{type:null}).then((function(e){t.files=e.data.data}))},getMaterial:function(t){var e=this;this.$http.get(this.INTERFACE.getMaterial+"?id="+t).then((function(t){200==t.data.code&&(e.form.package=t.data.data[0],e.$forceUpdate())}))},handleNext:function(){this.isNextStep=!this.isNextStep},handleAddImg:function(t,e){this.img_file[t]=e},addImage:function(t){var e=this,a=e.$refs.md,n=new FormData;for(var i in e.img_file)n.append(i,e.img_file[i]);e.$http.post(e.INTERFACE.uploadImg,n).then((function(n){if(200==n.data.code){var i,s=Object(V["a"])(n.data.data);try{for(s.s();!(i=s.n()).done;){var o=i.value;a.$img2Url(parseInt(o[0]),o[1])}}catch(r){s.e(r)}finally{s.f()}e.addFile(t)}}))},handleSaveFile:function(t){this.addImage(t)},addFile:function(t){var e=this,a=document.querySelector("#fileForm"),n=this.$refs.md.d_render,i=new FormData(a);i.set("type",this.form.type.value),this.form.type.value&&(this.form.catalogueId=0),i.set("subjectId",this.form.subject.id),i.set("catalogueId",this.form.catalogueId),i.set("content",this.form.content),i.set("render",n),i.set("status",t?"1":"0"),this.$http.post(this.INTERFACE.addFile,i).then((function(t){200==t.data.code&&(e.isCreated=!1,e.getFiles())}))},handleUpdateFile:function(t){var e=this,a={id:t.id,status:t.status};this.$http.post(this.INTERFACE.updateFile,a).then((function(t){200==t.data.code&&(e.isCreated=!1)}))},handleDeleteFile:function(t){var e=this;this.$http.post(this.INTERFACE.deleteFile,{id:t.id}).then((function(t){200==t.data.code&&e.getFiles()}))}}},tt=Z,et=(a("12f6"),Object(v["a"])(tt,z,U,!1,null,"4732f014",null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-wrapper"},[a("form",{attrs:{id:"loginForm"}},[a("span",{staticClass:"delete-btn"},[a("router-link",{attrs:{to:"/"}},[a("svg",{staticClass:"bi bi-x",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})])])],1),t.isRegister?a("span",{staticClass:"back-btn",on:{click:function(e){t.isRegister=!1}}},[t._v("返回")]):t._e(),a("div",{staticClass:"d-flex justify-content-center mb-2",staticStyle:{color:"#fff"}},[t._v(" "+t._s(t.isRegister?"注册账号":"密码登录")+" ")]),a("div",{staticClass:"item"},[t.isRegister?a("input",{directives:[{name:"model",rawName:"v-model",value:t.emailValue,expression:"emailValue"}],attrs:{type:"email",maxlength:"40",autocomplete:"on",placeholder:"请输入邮箱"},domProps:{value:t.emailValue},on:{input:function(e){e.target.composing||(t.emailValue=e.target.value)}}}):a("input",{attrs:{type:"email",name:"email",maxlength:"40",placeholder:"请输入账号/邮箱"}})]),a("div",{staticClass:"item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"d-grid gap-2 mt-3"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.handleLogin}},[t._v(" 登陆 ")])])])])},it=[],st={data:function(){return{isRegister:!1,emailValue:"",password:""}},computed:Object(y["a"])({},Object(x["c"])({isLogin:function(t){return t.auth.isLogin}})),methods:Object(y["a"])({handlRegister:function(){this.isRegister=!0},handleLogin:function(){var t=document.querySelector("#loginForm"),e=new FormData(t);this.logIn(e)}},Object(x["b"])([o])),watch:{isLogin:function(t){t&&this.$router.push({name:"manage"})}}},ot=st,rt=(a("67d5"),Object(v["a"])(ot,nt,it,!1,null,"cf39dc6c",null)),ct=rt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"knowled-contanier"},[a("div",{staticClass:"content-warpper"},[a("div",{domProps:{innerHTML:t._s(t.file.render)}})]),a("div",{staticClass:"aside-right"},[a("ul",{staticClass:"material-list"},[t._l(t.materials,(function(e,n){return[a("li",{key:n,on:{click:function(a){return t.handleDownLoad(e.url)}}},[a("span",[a("a",{attrs:{href:"javascript:void()"}},[t._v(t._s(e.name))])])])]}))],2)])])},dt=[],ut={data:function(){return{activeIndex:0,Btns:[{name:"Overview",id:0}],file:{},tables:[],materials:[]}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t.file=t.$route.params.file,t.getMaterial(t.$route.params.file.id)}))},methods:{handleDownLoad:function(t){window.open(t)},getMaterial:function(t){var e=this;this.$http.get(this.INTERFACE.getMaterial+"?id="+t).then((function(t){e.materials=t.data.data}))},handleOpenTemplate:function(){window.open(this.file.url)},getXlsx:function(){var t=this;this.$http.get("http://localhost:3000/file/getXlsx").then((function(e){t.tables=e.data.data}))},handleSelectFocus:function(t){this.activeIndex=parseInt(t)}}},ft=ut,mt=(a("d109"),Object(v["a"])(ft,lt,dt,!1,null,"05f8c4a8",null)),ht=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"animation-wrapper"}},[a("div",{staticClass:"animation-container",domProps:{innerHTML:t._s(t.contentHtml)}})])},vt=[],gt=a("1da1"),bt=(a("96cf"),a("99af"),{data:function(){return{contentHtml:""}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t.getAnimationCode()}))},methods:{substr:function(t,e,a){var n;return n=t.split(e)[1],n=n.split(a)[0],n},getAnimationCode:function(){var t=this;return Object(gt["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.id,n=t.$route.params.name,i="",e.next=5,t.$http.get("http://localhost:3000/animation/getAnimationCode/".concat(a,"/").concat(n)).then((function(e){200==e.status&&(i=e.data,t.contentHtml=t.substr(i,"<body>","</body>"))}));case 5:t.createScript(t.substr(i,"<script>","<\/script>")),t.createCSSStyle(t.substr(i,"<style>","</style"));case 7:case"end":return e.stop()}}),e)})))()},createScript:function(t){var e=document.createElement("script");e.innerHTML=t,e.type="text/javascript",document.getElementById("animation-wrapper").appendChild(e)},createCSSStyle:function(t){var e=document.createElement("style");e.innerHTML=t,document.getElementById("animation-wrapper").appendChild(e)}},watch:{$route:"fetchData"}}),Ct=bt,wt=Object(v["a"])(Ct,pt,vt,!1,null,null,null),_t=wt.exports;n["a"].use(C["a"]);var yt=[{path:"/",name:"Home",component:N,children:[{path:"",name:"content",component:function(){return a.e("chunk-2d0e62d5").then(a.bind(null,"9844"))}}]},{path:"/animation",name:"animation",component:function(){return a.e("chunk-c5f3e59a").then(a.bind(null,"1e34"))},children:[{path:":name",component:_t}]},{path:"/subject",name:"subject",component:P},{path:"/fileDetail",name:"fileDetail",component:ht},{path:"/manage",name:"manage",component:at},{path:"/login",name:"login",component:ct}],jt=new C["a"]({mode:"history",routes:yt}),xt=jt,St={isSideOpen:!1,auth:{isLogin:!1,user:null},footer:!0},kt=St,It=(a("c740"),Object(j["a"])({},m.getPageIndexById,(function(t){return function(e){return t.project.pages.findIndex((function(t){return t.id===e}))}}))),Et=It,$t=Object(y["a"])({},Et),Ft=$t,At=a("bc3a"),Lt=a.n(At),Ot={authorizeUser:Nt};function Nt(t){return Tt.apply(this,arguments)}function Tt(){return Tt=Object(gt["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="http://localhost:3000/v1/login",t.prev=1,t.next=4,Lt.a.post(a,e);case 4:return n=t.sent,t.abrupt("return",n.data.data[0]);case 8:return t.prev=8,t.t0=t["catch"](1),console.error(t.t0),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])}))),Tt.apply(this,arguments)}var Rt,Mt,Dt=Ot,Ht=(Rt={},Object(j["a"])(Rt,m.logIn,function(){var t=Object(gt["a"])(regeneratorRuntime.mark((function t(e,a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Dt.authorizeUser(a);case 3:i=t.sent,i?(window.localStorage.setItem("user",i.name),n(m.addUser,i),n(m.toggleLoginStatus,!0)):n(m.setIslogin,!1);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),Object(j["a"])(Rt,m.logOut,Object(gt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.localStorage.clear();case 1:case"end":return t.stop()}}),t)})))),Rt),Pt=Ht,zt=Object(y["a"])({},Pt),Ut=zt,Vt=(Mt={},Object(j["a"])(Mt,m.toggleLoginStatus,(function(t,e){t.auth.isLogin=e})),Object(j["a"])(Mt,m.addUser,(function(t,e){t.auth.user=e})),Mt),Bt=Object(y["a"])({},Vt),qt=Bt,Xt=Object(j["a"])({},m.toggleSideOpen,(function(t,e){t.isSideOpen=e})),Jt=Object(y["a"])({},Xt),Kt=Jt,Wt=Object(y["a"])(Object(y["a"])({},qt),Kt),Gt=Wt;n["a"].use(x["a"]);var Qt=new x["a"].Store({state:kt,getters:Ft,actions:Ut,mutations:Gt}),Yt=a("2106"),Zt=a.n(Yt),te="http://clbdgs.xyz/v1",ee="http://localhost:3000/v1",ae=function(){var t=te,e=window.location.hostname;switch(e){case"localhost":t=ee;break}return t},ne={catalogueList:ae()+"/catalogue/add",getCatalogueList:ae()+"/catalogue/get",deleteCatalogue:ae()+"/catalogue/delete",addFile:ae()+"/file/addFile",getFiles:ae()+"/file/getFiles",updateFile:ae()+"/file/updateFile",uploadImg:ae()+"/file/addImg",deleteFile:ae()+"/file/deleteFile",getMaterial:ae()+"/file/getMaterial",addSubject:ae()+"/subject/addSubject",getSubject:ae()+"/subject/getSubject",deleteSubject:ae()+"/subject/deleteSubject",createAnimation:ae()+"/animation/createAnimation",getAnimations:ae()+"/animation/getAnimations",login:ae()+"/login"},ie={INTERFACE:ne};a("64e1");window.axios=Lt.a,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",n["a"].prototype.$http=Lt.a,n["a"].prototype.INTERFACE=ie["INTERFACE"],n["a"].use(Zt.a,Lt.a),n["a"].config.productionTip=!1;var se=new n["a"]({router:xt,store:Qt,render:function(t){return t(b)}}).$mount("#app");console.log("app",se,Qt)},"5c0b":function(t,e,a){"use strict";a("9c0c")},"67d5":function(t,e,a){"use strict";a("d6ab")},"6cd0":function(t,e,a){"use strict";a("f0b5")},"8bb0":function(t,e,a){},"9c0c":function(t,e,a){},d109:function(t,e,a){"use strict";a("3a3a")},d6ab:function(t,e,a){},dfa1:function(t,e,a){"use strict";a("4fa2")},f0b5:function(t,e,a){}});